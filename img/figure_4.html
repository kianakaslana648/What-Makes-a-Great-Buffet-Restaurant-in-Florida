<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.17.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "fill": "#f5efe0"}, "axis": {"labelFontSize": 15, "titleFontSize": 17}, "background": "#f5efe0", "font": "Georgia", "legend": {"labelFontSize": 17, "titleColor": "black", "titleFontSize": 17}, "title": {"align": "center", "anchor": "middle", "fontSize": 20}}, "vconcat": [{"mark": "line", "encoding": {"color": {"condition": {"field": "state", "scale": {"domain": ["FL", "OR", "MA", "OH", "TX", "GA", "CO", "WA"]}, "type": "nominal", "selection": "selector001"}, "value": "lightgray"}, "tooltip": [{"field": "year_month", "title": "Date", "type": "temporal"}, {"field": "state", "title": "State", "type": "nominal"}, {"field": "review_count", "title": "Review count", "type": "quantitative"}], "x": {"field": "year_month", "title": "Date", "type": "temporal"}, "y": {"field": "review_count", "title": "Review counts", "type": "quantitative"}}, "height": 200, "selection": {"selector001": {"type": "interval", "encodings": ["x"]}}, "transform": [{"filter": {"selection": "selector002"}}], "width": 500}, {"mark": "bar", "encoding": {"color": {"condition": {"field": "state", "scale": {"domain": ["FL", "OR", "MA", "OH", "TX", "GA", "CO", "WA"]}, "type": "nominal", "selection": "selector002"}, "value": "lightgray"}, "x": {"field": "star", "scale": {"domain": [0, 5]}, "title": "Stars", "type": "quantitative"}, "y": {"field": "state", "title": "States", "type": "nominal"}}, "height": 200, "selection": {"selector002": {"type": "multi", "fields": ["state"]}}, "transform": [{"filter": {"selection": "selector001"}}], "width": 500}], "data": {"name": "data-01a70058c83af4dee43d77dfc90bbe23"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-01a70058c83af4dee43d77dfc90bbe23": [{"state": "CO", "year_month": "2007-01-01T00:00:00", "review_count": 807, "star": 2.8333333333333335}, {"state": "CO", "year_month": "2008-01-01T00:00:00", "review_count": 807, "star": 3.8333333333333335}, {"state": "CO", "year_month": "2009-01-01T00:00:00", "review_count": 1470, "star": 4.0}, {"state": "CO", "year_month": "2010-01-01T00:00:00", "review_count": 1875, "star": 3.7857142857142856}, {"state": "CO", "year_month": "2011-01-01T00:00:00", "review_count": 2940, "star": 3.5}, {"state": "CO", "year_month": "2012-01-01T00:00:00", "review_count": 2532, "star": 3.789473684210526}, {"state": "CO", "year_month": "2013-01-01T00:00:00", "review_count": 2673, "star": 3.5}, {"state": "CO", "year_month": "2014-01-01T00:00:00", "review_count": 2805, "star": 3.6666666666666665}, {"state": "CO", "year_month": "2015-01-01T00:00:00", "review_count": 13009, "star": 4.293478260869565}, {"state": "CO", "year_month": "2016-01-01T00:00:00", "review_count": 9797, "star": 4.180555555555555}, {"state": "CO", "year_month": "2017-01-01T00:00:00", "review_count": 11127, "star": 4.063291139240507}, {"state": "CO", "year_month": "2018-01-01T00:00:00", "review_count": 8984, "star": 3.9206349206349205}, {"state": "CO", "year_month": "2019-01-01T00:00:00", "review_count": 8200, "star": 3.9833333333333334}, {"state": "CO", "year_month": "2020-01-01T00:00:00", "review_count": 7341, "star": 3.9615384615384617}, {"state": "FL", "year_month": "2006-01-01T00:00:00", "review_count": 2174, "star": 4.0}, {"state": "FL", "year_month": "2007-01-01T00:00:00", "review_count": 24606, "star": 4.0588235294117645}, {"state": "FL", "year_month": "2008-01-01T00:00:00", "review_count": 110376, "star": 3.933774834437086}, {"state": "FL", "year_month": "2009-01-01T00:00:00", "review_count": 92909, "star": 3.9246575342465753}, {"state": "FL", "year_month": "2010-01-01T00:00:00", "review_count": 183882, "star": 3.9061488673139158}, {"state": "FL", "year_month": "2011-01-01T00:00:00", "review_count": 294227, "star": 3.7641843971631204}, {"state": "FL", "year_month": "2012-01-01T00:00:00", "review_count": 360490, "star": 3.4714285714285715}, {"state": "FL", "year_month": "2013-01-01T00:00:00", "review_count": 441492, "star": 3.562358276643991}, {"state": "FL", "year_month": "2014-01-01T00:00:00", "review_count": 572903, "star": 3.4676258992805757}, {"state": "FL", "year_month": "2015-01-01T00:00:00", "review_count": 960425, "star": 3.583786455758774}, {"state": "FL", "year_month": "2016-01-01T00:00:00", "review_count": 1005571, "star": 3.574302697759488}, {"state": "FL", "year_month": "2017-01-01T00:00:00", "review_count": 1175681, "star": 3.629757785467128}, {"state": "FL", "year_month": "2018-01-01T00:00:00", "review_count": 1319965, "star": 3.6332526788800554}, {"state": "FL", "year_month": "2019-01-01T00:00:00", "review_count": 1200412, "star": 3.5704622322435173}, {"state": "FL", "year_month": "2020-01-01T00:00:00", "review_count": 539016, "star": 3.578391551584078}, {"state": "GA", "year_month": "2007-01-01T00:00:00", "review_count": 1000, "star": 4.5}, {"state": "GA", "year_month": "2008-01-01T00:00:00", "review_count": 8452, "star": 3.888888888888889}, {"state": "GA", "year_month": "2009-01-01T00:00:00", "review_count": 71759, "star": 3.901098901098901}, {"state": "GA", "year_month": "2010-01-01T00:00:00", "review_count": 70022, "star": 3.8}, {"state": "GA", "year_month": "2011-01-01T00:00:00", "review_count": 65589, "star": 3.5408163265306123}, {"state": "GA", "year_month": "2012-01-01T00:00:00", "review_count": 62327, "star": 3.514925373134328}, {"state": "GA", "year_month": "2013-01-01T00:00:00", "review_count": 115706, "star": 3.863013698630137}, {"state": "GA", "year_month": "2014-01-01T00:00:00", "review_count": 191592, "star": 4.021538461538461}, {"state": "GA", "year_month": "2015-01-01T00:00:00", "review_count": 295311, "star": 4.0130718954248366}, {"state": "GA", "year_month": "2016-01-01T00:00:00", "review_count": 230738, "star": 3.855392156862745}, {"state": "GA", "year_month": "2017-01-01T00:00:00", "review_count": 351179, "star": 3.837962962962963}, {"state": "GA", "year_month": "2018-01-01T00:00:00", "review_count": 299927, "star": 3.745393634840871}, {"state": "GA", "year_month": "2019-01-01T00:00:00", "review_count": 198445, "star": 3.5458422174840085}, {"state": "GA", "year_month": "2020-01-01T00:00:00", "review_count": 120539, "star": 3.7254901960784315}, {"state": "MA", "year_month": "2004-01-01T00:00:00", "review_count": 527, "star": 3.0}, {"state": "MA", "year_month": "2005-01-01T00:00:00", "review_count": 16393, "star": 3.8846153846153846}, {"state": "MA", "year_month": "2006-01-01T00:00:00", "review_count": 36828, "star": 3.842857142857143}, {"state": "MA", "year_month": "2007-01-01T00:00:00", "review_count": 97367, "star": 3.7567567567567566}, {"state": "MA", "year_month": "2008-01-01T00:00:00", "review_count": 125287, "star": 3.557768924302789}, {"state": "MA", "year_month": "2009-01-01T00:00:00", "review_count": 131787, "star": 3.5808823529411766}, {"state": "MA", "year_month": "2010-01-01T00:00:00", "review_count": 275352, "star": 3.396887159533074}, {"state": "MA", "year_month": "2011-01-01T00:00:00", "review_count": 330489, "star": 3.511331444759207}, {"state": "MA", "year_month": "2012-01-01T00:00:00", "review_count": 323590, "star": 3.533428165007112}, {"state": "MA", "year_month": "2013-01-01T00:00:00", "review_count": 329580, "star": 3.599435825105783}, {"state": "MA", "year_month": "2014-01-01T00:00:00", "review_count": 450371, "star": 3.608527131782946}, {"state": "MA", "year_month": "2015-01-01T00:00:00", "review_count": 664500, "star": 3.636842105263158}, {"state": "MA", "year_month": "2016-01-01T00:00:00", "review_count": 711807, "star": 3.6095571095571097}, {"state": "MA", "year_month": "2017-01-01T00:00:00", "review_count": 753413, "star": 3.5960419091967406}, {"state": "MA", "year_month": "2018-01-01T00:00:00", "review_count": 879716, "star": 3.622153209109731}, {"state": "MA", "year_month": "2019-01-01T00:00:00", "review_count": 712232, "star": 3.488966318234611}, {"state": "MA", "year_month": "2020-01-01T00:00:00", "review_count": 303604, "star": 3.745387453874539}, {"state": "OH", "year_month": "2007-01-01T00:00:00", "review_count": 541, "star": 4.0}, {"state": "OH", "year_month": "2008-01-01T00:00:00", "review_count": 2279, "star": 3.5}, {"state": "OH", "year_month": "2009-01-01T00:00:00", "review_count": 2436, "star": 3.6818181818181817}, {"state": "OH", "year_month": "2010-01-01T00:00:00", "review_count": 24005, "star": 3.953125}, {"state": "OH", "year_month": "2011-01-01T00:00:00", "review_count": 37577, "star": 3.7475728155339807}, {"state": "OH", "year_month": "2012-01-01T00:00:00", "review_count": 42369, "star": 3.453488372093023}, {"state": "OH", "year_month": "2013-01-01T00:00:00", "review_count": 52990, "star": 3.4095238095238094}, {"state": "OH", "year_month": "2014-01-01T00:00:00", "review_count": 63935, "star": 3.31203007518797}, {"state": "OH", "year_month": "2015-01-01T00:00:00", "review_count": 74898, "star": 3.3114754098360657}, {"state": "OH", "year_month": "2016-01-01T00:00:00", "review_count": 74250, "star": 3.3881019830028327}, {"state": "OH", "year_month": "2017-01-01T00:00:00", "review_count": 70940, "star": 3.315068493150685}, {"state": "OH", "year_month": "2018-01-01T00:00:00", "review_count": 71046, "star": 3.5510752688172045}, {"state": "OH", "year_month": "2019-01-01T00:00:00", "review_count": 67605, "star": 3.6379310344827585}, {"state": "OH", "year_month": "2020-01-01T00:00:00", "review_count": 41667, "star": 4.0081632653061225}, {"state": "OR", "year_month": "2006-01-01T00:00:00", "review_count": 3980, "star": 3.5555555555555554}, {"state": "OR", "year_month": "2007-01-01T00:00:00", "review_count": 15393, "star": 3.8484848484848486}, {"state": "OR", "year_month": "2008-01-01T00:00:00", "review_count": 36833, "star": 3.6951219512195124}, {"state": "OR", "year_month": "2009-01-01T00:00:00", "review_count": 64803, "star": 3.670967741935484}, {"state": "OR", "year_month": "2010-01-01T00:00:00", "review_count": 147406, "star": 3.839541547277937}, {"state": "OR", "year_month": "2011-01-01T00:00:00", "review_count": 165054, "star": 3.6476683937823835}, {"state": "OR", "year_month": "2012-01-01T00:00:00", "review_count": 186168, "star": 3.6989795918367347}, {"state": "OR", "year_month": "2013-01-01T00:00:00", "review_count": 237219, "star": 3.5610766045548656}, {"state": "OR", "year_month": "2014-01-01T00:00:00", "review_count": 263238, "star": 3.5824915824915826}, {"state": "OR", "year_month": "2015-01-01T00:00:00", "review_count": 359067, "star": 3.4292742927429276}, {"state": "OR", "year_month": "2016-01-01T00:00:00", "review_count": 426683, "star": 3.617096018735363}, {"state": "OR", "year_month": "2017-01-01T00:00:00", "review_count": 371100, "star": 3.4761904761904763}, {"state": "OR", "year_month": "2018-01-01T00:00:00", "review_count": 480963, "star": 3.44912641315519}, {"state": "OR", "year_month": "2019-01-01T00:00:00", "review_count": 405751, "star": 3.688}, {"state": "OR", "year_month": "2020-01-01T00:00:00", "review_count": 181399, "star": 3.675268817204301}, {"state": "TX", "year_month": "2005-01-01T00:00:00", "review_count": 2389, "star": 4.666666666666667}, {"state": "TX", "year_month": "2006-01-01T00:00:00", "review_count": 20672, "star": 4.136363636363637}, {"state": "TX", "year_month": "2007-01-01T00:00:00", "review_count": 88129, "star": 3.7473684210526317}, {"state": "TX", "year_month": "2008-01-01T00:00:00", "review_count": 137652, "star": 3.4644808743169397}, {"state": "TX", "year_month": "2009-01-01T00:00:00", "review_count": 210892, "star": 3.6115107913669067}, {"state": "TX", "year_month": "2010-01-01T00:00:00", "review_count": 285382, "star": 3.638888888888889}, {"state": "TX", "year_month": "2011-01-01T00:00:00", "review_count": 390006, "star": 3.6900489396411094}, {"state": "TX", "year_month": "2012-01-01T00:00:00", "review_count": 439740, "star": 3.7492401215805473}, {"state": "TX", "year_month": "2013-01-01T00:00:00", "review_count": 410559, "star": 3.764991896272285}, {"state": "TX", "year_month": "2014-01-01T00:00:00", "review_count": 473540, "star": 3.648293963254593}, {"state": "TX", "year_month": "2015-01-01T00:00:00", "review_count": 561397, "star": 3.6742574257425744}, {"state": "TX", "year_month": "2016-01-01T00:00:00", "review_count": 528842, "star": 3.6642182581322142}, {"state": "TX", "year_month": "2017-01-01T00:00:00", "review_count": 461257, "star": 3.719753086419753}, {"state": "TX", "year_month": "2018-01-01T00:00:00", "review_count": 540650, "star": 3.7063157894736842}, {"state": "TX", "year_month": "2019-01-01T00:00:00", "review_count": 532172, "star": 3.672216441207076}, {"state": "TX", "year_month": "2020-01-01T00:00:00", "review_count": 258507, "star": 3.9700934579439253}, {"state": "WA", "year_month": "2007-01-01T00:00:00", "review_count": 240, "star": 3.5}, {"state": "WA", "year_month": "2008-01-01T00:00:00", "review_count": 253, "star": 3.5}, {"state": "WA", "year_month": "2009-01-01T00:00:00", "review_count": 626, "star": 2.6}, {"state": "WA", "year_month": "2010-01-01T00:00:00", "review_count": 8265, "star": 2.7916666666666665}, {"state": "WA", "year_month": "2011-01-01T00:00:00", "review_count": 11299, "star": 3.323529411764706}, {"state": "WA", "year_month": "2012-01-01T00:00:00", "review_count": 11544, "star": 3.3823529411764706}, {"state": "WA", "year_month": "2013-01-01T00:00:00", "review_count": 17670, "star": 3.1864406779661016}, {"state": "WA", "year_month": "2014-01-01T00:00:00", "review_count": 19085, "star": 3.19672131147541}, {"state": "WA", "year_month": "2015-01-01T00:00:00", "review_count": 26672, "star": 2.8875}, {"state": "WA", "year_month": "2016-01-01T00:00:00", "review_count": 24622, "star": 3.0714285714285716}, {"state": "WA", "year_month": "2017-01-01T00:00:00", "review_count": 25625, "star": 2.9879518072289155}, {"state": "WA", "year_month": "2018-01-01T00:00:00", "review_count": 73430, "star": 3.0535714285714284}, {"state": "WA", "year_month": "2019-01-01T00:00:00", "review_count": 41490, "star": 2.8917197452229297}, {"state": "WA", "year_month": "2020-01-01T00:00:00", "review_count": 12305, "star": 2.659090909090909}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>